<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Mis productos</title>
    </h:head>

    <h:body style="background-color: #333333">
        <p:layoutUnit position="north">
            <h2 align="center" style="margin: 0px;  background-color: slategray; color: white">TerceraMano</h2>
        </p:layoutUnit>

        <div class="ui-g"  >
            <div class="ui-g-12">
                <h:form id="menuForm" >
                    <p:menubar >  
                        <p:menuitem value="Lista de productos" action="listaProductos" icon="ui-icon-pencil"/>
                        <p:menuitem value="Mis donaciones" action = "misDonaciones" icon="ui-icon-home"/>
                        <p:menuitem value="Mis productos" action = "misProductos" icon="ui-icon-home"/>
                        <p:menuitem value="Agregar producto" url="#" onclick="PF('agregarProd').show();" icon="ui-icon-home"/>
                        <p:menuitem value="Cerrar sesión" actionListener="#{LoginBean.logout()}" ajax="false"  icon="ui-icon-home"/>
                    </p:menubar>    
                </h:form>
            </div>
        </div>


        <div class="ui-g-12 ui-md-10 ui-g-nopad" style="margin-top:15px">
            <!-- TODO EL CONTENIDO -->
            <div class="ui-g-12 ui-g-nopad">
                <div class="ui-g">
                    <div class="ui-g-12 ui-md-12">
                        <h:form>
                            <p:dataTable var="q" widgetVar="misDonaciones" value="#{ObjetosBean.misObjetos}">
                                <p:column headerText="Producto">
                                    <h:outputText value="#{q.nameObject}" />
                                </p:column>

                                <p:column headerText="Descripción">
                                    <h:outputText value="#{q.description}" />
                                </p:column>

                            </p:dataTable>
                        </h:form>
                    </div>
                </div>
            </div>
        </div>

        <p:dialog header="Agregar nuevo producto" widgetVar="agregarProd" modal="true" >
            <h:form>
                <p:messages id="signUpMessagge" showDetail="true" autoUpdate="true" closable="true" />
                <h:panelGrid columns="1" cellpadding="5">
                    <p:outputLabel>Nombre del producto:</p:outputLabel>
                    <p:inputText value="#{ObjetosBean.obj.nameObject}"/>
                    <p:outputLabel>Descripción:</p:outputLabel>
                    <p:inputTextarea rows="10" cols="50"  queryDelay="750" minQueryLength="4" value="#{ObjetosBean.obj.description}"/>

                    <p:commandButton value="Agregar producto" actionListener="#{ObjetosBean.saveObj()}" ajax="true"></p:commandButton>           
                </h:panelGrid>
            </h:form>
        </p:dialog>
    </h:body>

</html>