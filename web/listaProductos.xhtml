<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Lista de productos</title>
    </h:head>

    <h:body style="background-color: #333333">
        <p:layoutUnit position="north">
            <h2 align="center" style="margin: 0px;  background-color: slategray; color: white">TerceraMano</h2>
        </p:layoutUnit>
        
        <div class="ui-g"  >
            <div class="ui-g-12">
                <h:form id="menuForm" >
                    <p:menubar >  
                        <p:menuitem value="Lista de productos" url="#" icon="ui-icon-pencil"/>
                        <p:menuitem value="Mis productos" action = "misProductos" icon="ui-icon-home"/>
                        <p:menuitem value="Agregar producto" url="#" onclick="PF('agregarProd').show();" icon="ui-icon-home"/>
                    </p:menubar>    
                </h:form>
            </div>
        </div>
        
        
        <div class="ui-g-12 ui-md-10 ui-g-nopad" style="margin-top:15px">
            <!-- TODO EL CONTENIDO -->
            <div class="ui-g-12 ui-g-nopad">
                <div class="ui-g">
                    <div class="ui-g-12 ui-md-12">
                        <h:form>
                            <p:dataTable var="test" value="#{filterBean.categorias}">
                                <p:column headerText="Producto">
                                    <h:outputText value="#{test.categoria}" />
                                </p:column>

                                <p:column headerText="Descripción">
                                    <h:outputText value="#{test.quiz.creationDate}" />
                                </p:column>
                                                                  
                                <p:column headerText="Publicado por:">
                                    <p:commandLink value="#{test.quiz.title}" actionListener="#{QuizAnswerBean.selectedQuiz(test.quiz.id)}" oncomplete="PF('quiz').show();" ajax="true" update="quiz"></p:commandLink>
                                </p:column>
                                
                                <p:column headerText="Adquirir">
                                    <h:commandButton action = "#" value = "Adquirir" />
                                </p:column>
                                
                                
                                
                            </p:dataTable>
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
        
        <p:dialog header="Agregar nuevo producto" widgetVar="agregarProd" modal="true" >
            <h:form>
                <p:messages id="signUpMessagge" showDetail="true" autoUpdate="true" closable="true" />
                <h:panelGrid columns="1" cellpadding="5">
                    <p:outputLabel>Nombre del producto:</p:outputLabel>
                    <p:inputText value="#{RegistroBean.nombre}" />
                    <p:outputLabel>Descripción:</p:outputLabel>
                    <p:inputTextarea rows="10" cols="50" completeMethod="#{inputTextareaView.completeArea}" queryDelay="750" minQueryLength="4" />
                    
                    <p:commandButton value="Agregar producto" actionListener="#{RegistroBean.registro}" ajax="true"></p:commandButton>           
                </h:panelGrid>
            </h:form>
        </p:dialog>
    </h:body>

</html>
